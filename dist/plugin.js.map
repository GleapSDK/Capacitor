{"version":3,"file":"plugin.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst Gleap = registerPlugin('Gleap', {\n    web: () => import('./web').then(m => new m.GleapWeb()),\n});\nexport * from './definitions';\nexport { Gleap };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nimport Gleap from 'gleap';\nexport class GleapWeb extends WebPlugin {\n    async initialize(options) {\n        if (GleapWeb.initialized) {\n            return { initialized: true };\n        }\n        Gleap.initialize(options.API_KEY);\n        GleapWeb.initialized = true;\n        this.registerCallbackListeners();\n        return { initialized: true };\n    }\n    registerCallbackListeners() {\n        Gleap.on(\"open\", () => {\n            this.notifyCallbacks(\"open\", {});\n        });\n        Gleap.on(\"close\", () => {\n            this.notifyCallbacks(\"close\", {});\n        });\n        Gleap.on(\"feedback-sent\", (formData) => {\n            this.notifyCallbacks(\"feedback-sent\", formData);\n        });\n        Gleap.on(\"flow-started\", (flow) => {\n            this.notifyCallbacks(\"flow-started\", flow);\n        });\n        Gleap.on(\"error-while-sending\", () => {\n            this.notifyCallbacks(\"error-while-sending\", {});\n        });\n        Gleap.registerCustomAction((customAction) => {\n            this.notifyCallbacks(\"custom-action-called\", customAction);\n        });\n    }\n    notifyCallbacks(event, data) {\n        if (!GleapWeb.callbacks) {\n            return;\n        }\n        for (var callbackId in GleapWeb.callbacks) {\n            GleapWeb.callbacks[callbackId](event, data);\n        }\n    }\n    async showFeedbackButton(options) {\n        Gleap.showFeedbackButton(options.show ? true : false);\n        return { feedbackButtonShown: true };\n    }\n    async identify(options) {\n        var userData = {\n            name: options.name,\n            email: options.email,\n            phone: options.phone,\n            value: options.value,\n        };\n        if (options.userHash) {\n            Gleap.identify(options.userId, userData, options.userHash);\n        }\n        else {\n            Gleap.identify(options.userId, userData);\n        }\n        return { identify: true };\n    }\n    async clearIdentity() {\n        Gleap.clearIdentity();\n        return { clearIdentity: true };\n    }\n    async attachCustomData(options) {\n        Gleap.attachCustomData(options.data);\n        return { attachedCustomData: true };\n    }\n    async setCustomData(options) {\n        Gleap.setCustomData(options.key, options.value);\n        return { setCustomData: true };\n    }\n    async removeCustomData(options) {\n        Gleap.removeCustomData(options.key);\n        return { removedCustomData: true };\n    }\n    async clearCustomData() {\n        Gleap.clearCustomData();\n        return { clearedCustomData: true };\n    }\n    async trackEvent(options) {\n        Gleap.trackEvent(options.name, options.data);\n        return { loggedEvent: true };\n    }\n    async startFeedbackFlow(options) {\n        var _a;\n        if (!options.feedbackFlow) {\n        }\n        Gleap.startFeedbackFlow((_a = options.feedbackFlow) !== null && _a !== void 0 ? _a : \"bugreporting\", options.showBackButton);\n        return { startedFeedbackFlow: true };\n    }\n    async setLanguage(options) {\n        Gleap.setLanguage(options.languageCode);\n        return { setLanguage: options.languageCode };\n    }\n    async log(options) {\n        Gleap.log(options.message, options.logLevel);\n        return { logged: true };\n    }\n    async setEventCallback(callback) {\n        var callbackId = this.makeid(10);\n        GleapWeb.callbacks[callbackId] = callback;\n        return callbackId;\n    }\n    async sendSilentCrashReport(options) {\n        Gleap.sendSilentCrashReport(options.description, options.severity, options.dataExclusion);\n        return { sentSilentBugReport: true };\n    }\n    async open() {\n        Gleap.open();\n        return { openedWidget: true };\n    }\n    async openFeatureRequests() {\n        Gleap.openFeatureRequests();\n        return { openedFeatureRequests: true };\n    }\n    async openNews() {\n        Gleap.openNews();\n        return { openedNews: true };\n    }\n    async close() {\n        Gleap.close();\n        return { closedWidget: true };\n    }\n    async isOpened() {\n        return { isOpened: Gleap.isOpened() };\n    }\n    async disableConsoleLogOverwrite() {\n        Gleap.disableConsoleLogOverwrite();\n        return { consoleLogDisabled: true };\n    }\n    async enableDebugConsoleLog() {\n        return { debugConsoleLogEnabled: true };\n    }\n    async preFillForm(options) {\n        Gleap.preFillForm(options.data);\n        return { preFilledForm: true };\n    }\n    async addAttachment(_options) {\n        throw this.unavailable('addAttachment not available for browsers');\n    }\n    async removeAllAttachments() {\n        throw this.unavailable('removeAllAttachments not available for browsers');\n    }\n    makeid(length) {\n        var result = '';\n        var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var charactersLength = characters.length;\n        for (var i = 0; i < length; i++) {\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\n        }\n        return result;\n    }\n}\nGleapWeb.callbacks = {};\nGleapWeb.initialized = false;\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin","Gleap"],"mappings":";;;;;;;AACK,UAAC,KAAK,GAAGA,mBAAc,CAAC,OAAO,EAAE;IACtC,IAAI,GAAG,EAAE,MAAM,mDAAe,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC;IAC1D,CAAC;;ICDM,MAAM,QAAQ,SAASC,cAAS,CAAC;IACxC,IAAI,MAAM,UAAU,CAAC,OAAO,EAAE;IAC9B,QAAQ,IAAI,QAAQ,CAAC,WAAW,EAAE;IAClC,YAAY,OAAO,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;IACzC,SAAS;IACT,QAAQC,yBAAK,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IAC1C,QAAQ,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;IACpC,QAAQ,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACzC,QAAQ,OAAO,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;IACrC,KAAK;IACL,IAAI,yBAAyB,GAAG;IAChC,QAAQA,yBAAK,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM;IAC/B,YAAY,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;IAC7C,SAAS,CAAC,CAAC;IACX,QAAQA,yBAAK,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM;IAChC,YAAY,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;IAC9C,SAAS,CAAC,CAAC;IACX,QAAQA,yBAAK,CAAC,EAAE,CAAC,eAAe,EAAE,CAAC,QAAQ,KAAK;IAChD,YAAY,IAAI,CAAC,eAAe,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC;IAC5D,SAAS,CAAC,CAAC;IACX,QAAQA,yBAAK,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,IAAI,KAAK;IAC3C,YAAY,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;IACvD,SAAS,CAAC,CAAC;IACX,QAAQA,yBAAK,CAAC,EAAE,CAAC,qBAAqB,EAAE,MAAM;IAC9C,YAAY,IAAI,CAAC,eAAe,CAAC,qBAAqB,EAAE,EAAE,CAAC,CAAC;IAC5D,SAAS,CAAC,CAAC;IACX,QAAQA,yBAAK,CAAC,oBAAoB,CAAC,CAAC,YAAY,KAAK;IACrD,YAAY,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE,YAAY,CAAC,CAAC;IACvE,SAAS,CAAC,CAAC;IACX,KAAK;IACL,IAAI,eAAe,CAAC,KAAK,EAAE,IAAI,EAAE;IACjC,QAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;IACjC,YAAY,OAAO;IACnB,SAAS;IACT,QAAQ,KAAK,IAAI,UAAU,IAAI,QAAQ,CAAC,SAAS,EAAE;IACnD,YAAY,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IACxD,SAAS;IACT,KAAK;IACL,IAAI,MAAM,kBAAkB,CAAC,OAAO,EAAE;IACtC,QAAQA,yBAAK,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;IAC9D,QAAQ,OAAO,EAAE,mBAAmB,EAAE,IAAI,EAAE,CAAC;IAC7C,KAAK;IACL,IAAI,MAAM,QAAQ,CAAC,OAAO,EAAE;IAC5B,QAAQ,IAAI,QAAQ,GAAG;IACvB,YAAY,IAAI,EAAE,OAAO,CAAC,IAAI;IAC9B,YAAY,KAAK,EAAE,OAAO,CAAC,KAAK;IAChC,YAAY,KAAK,EAAE,OAAO,CAAC,KAAK;IAChC,YAAY,KAAK,EAAE,OAAO,CAAC,KAAK;IAChC,SAAS,CAAC;IACV,QAAQ,IAAI,OAAO,CAAC,QAAQ,EAAE;IAC9B,YAAYA,yBAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;IACvE,SAAS;IACT,aAAa;IACb,YAAYA,yBAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IACrD,SAAS;IACT,QAAQ,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAClC,KAAK;IACL,IAAI,MAAM,aAAa,GAAG;IAC1B,QAAQA,yBAAK,CAAC,aAAa,EAAE,CAAC;IAC9B,QAAQ,OAAO,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC;IACvC,KAAK;IACL,IAAI,MAAM,gBAAgB,CAAC,OAAO,EAAE;IACpC,QAAQA,yBAAK,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC7C,QAAQ,OAAO,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC;IAC5C,KAAK;IACL,IAAI,MAAM,aAAa,CAAC,OAAO,EAAE;IACjC,QAAQA,yBAAK,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;IACxD,QAAQ,OAAO,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC;IACvC,KAAK;IACL,IAAI,MAAM,gBAAgB,CAAC,OAAO,EAAE;IACpC,QAAQA,yBAAK,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5C,QAAQ,OAAO,EAAE,iBAAiB,EAAE,IAAI,EAAE,CAAC;IAC3C,KAAK;IACL,IAAI,MAAM,eAAe,GAAG;IAC5B,QAAQA,yBAAK,CAAC,eAAe,EAAE,CAAC;IAChC,QAAQ,OAAO,EAAE,iBAAiB,EAAE,IAAI,EAAE,CAAC;IAC3C,KAAK;IACL,IAAI,MAAM,UAAU,CAAC,OAAO,EAAE;IAC9B,QAAQA,yBAAK,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;IACrD,QAAQ,OAAO,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;IACrC,KAAK;IACL,IAAI,MAAM,iBAAiB,CAAC,OAAO,EAAE;IACrC,QAAQ,IAAI,EAAE,CAAC;IACf,QAAQ,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAC1B;IACT,QAAQA,yBAAK,CAAC,iBAAiB,CAAC,CAAC,EAAE,GAAG,OAAO,CAAC,YAAY,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,cAAc,EAAE,OAAO,CAAC,cAAc,CAAC,CAAC;IACrI,QAAQ,OAAO,EAAE,mBAAmB,EAAE,IAAI,EAAE,CAAC;IAC7C,KAAK;IACL,IAAI,MAAM,WAAW,CAAC,OAAO,EAAE;IAC/B,QAAQA,yBAAK,CAAC,WAAW,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;IAChD,QAAQ,OAAO,EAAE,WAAW,EAAE,OAAO,CAAC,YAAY,EAAE,CAAC;IACrD,KAAK;IACL,IAAI,MAAM,GAAG,CAAC,OAAO,EAAE;IACvB,QAAQA,yBAAK,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;IACrD,QAAQ,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;IAChC,KAAK;IACL,IAAI,MAAM,gBAAgB,CAAC,QAAQ,EAAE;IACrC,QAAQ,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IACzC,QAAQ,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,QAAQ,CAAC;IAClD,QAAQ,OAAO,UAAU,CAAC;IAC1B,KAAK;IACL,IAAI,MAAM,qBAAqB,CAAC,OAAO,EAAE;IACzC,QAAQA,yBAAK,CAAC,qBAAqB,CAAC,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,aAAa,CAAC,CAAC;IAClG,QAAQ,OAAO,EAAE,mBAAmB,EAAE,IAAI,EAAE,CAAC;IAC7C,KAAK;IACL,IAAI,MAAM,IAAI,GAAG;IACjB,QAAQA,yBAAK,CAAC,IAAI,EAAE,CAAC;IACrB,QAAQ,OAAO,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC;IACtC,KAAK;IACL,IAAI,MAAM,mBAAmB,GAAG;IAChC,QAAQA,yBAAK,CAAC,mBAAmB,EAAE,CAAC;IACpC,QAAQ,OAAO,EAAE,qBAAqB,EAAE,IAAI,EAAE,CAAC;IAC/C,KAAK;IACL,IAAI,MAAM,QAAQ,GAAG;IACrB,QAAQA,yBAAK,CAAC,QAAQ,EAAE,CAAC;IACzB,QAAQ,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;IACpC,KAAK;IACL,IAAI,MAAM,KAAK,GAAG;IAClB,QAAQA,yBAAK,CAAC,KAAK,EAAE,CAAC;IACtB,QAAQ,OAAO,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC;IACtC,KAAK;IACL,IAAI,MAAM,QAAQ,GAAG;IACrB,QAAQ,OAAO,EAAE,QAAQ,EAAEA,yBAAK,CAAC,QAAQ,EAAE,EAAE,CAAC;IAC9C,KAAK;IACL,IAAI,MAAM,0BAA0B,GAAG;IACvC,QAAQA,yBAAK,CAAC,0BAA0B,EAAE,CAAC;IAC3C,QAAQ,OAAO,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC;IAC5C,KAAK;IACL,IAAI,MAAM,qBAAqB,GAAG;IAClC,QAAQ,OAAO,EAAE,sBAAsB,EAAE,IAAI,EAAE,CAAC;IAChD,KAAK;IACL,IAAI,MAAM,WAAW,CAAC,OAAO,EAAE;IAC/B,QAAQA,yBAAK,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACxC,QAAQ,OAAO,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC;IACvC,KAAK;IACL,IAAI,MAAM,aAAa,CAAC,QAAQ,EAAE;IAClC,QAAQ,MAAM,IAAI,CAAC,WAAW,CAAC,0CAA0C,CAAC,CAAC;IAC3E,KAAK;IACL,IAAI,MAAM,oBAAoB,GAAG;IACjC,QAAQ,MAAM,IAAI,CAAC,WAAW,CAAC,iDAAiD,CAAC,CAAC;IAClF,KAAK;IACL,IAAI,MAAM,CAAC,MAAM,EAAE;IACnB,QAAQ,IAAI,MAAM,GAAG,EAAE,CAAC;IACxB,QAAQ,IAAI,UAAU,GAAG,gEAAgE,CAAC;IAC1F,QAAQ,IAAI,gBAAgB,GAAG,UAAU,CAAC,MAAM,CAAC;IACjD,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;IACzC,YAAY,MAAM,IAAI,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,gBAAgB,CAAC,CAAC,CAAC;IACtF,SAAS;IACT,QAAQ,OAAO,MAAM,CAAC;IACtB,KAAK;IACL,CAAC;IACD,QAAQ,CAAC,SAAS,GAAG,EAAE,CAAC;IACxB,QAAQ,CAAC,WAAW,GAAG,KAAK;;;;;;;;;;;;;;;;;"}