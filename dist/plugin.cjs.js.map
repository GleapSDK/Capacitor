{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst Gleap = registerPlugin('Gleap', {\n    web: () => import('./web').then(m => new m.GleapWeb()),\n});\nexport * from './definitions';\nexport { Gleap };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nimport Gleap from 'gleap';\nexport class GleapWeb extends WebPlugin {\n    async initialize(options) {\n        if (GleapWeb.initialized) {\n            return { initialized: true };\n        }\n        Gleap.initialize(options.API_KEY);\n        GleapWeb.initialized = true;\n        this.registerCallbackListeners();\n        return { initialized: true };\n    }\n    registerCallbackListeners() {\n        Gleap.on(\"open\", () => {\n            this.notifyCallbacks(\"open\", {});\n        });\n        Gleap.on(\"close\", () => {\n            this.notifyCallbacks(\"close\", {});\n        });\n        Gleap.on(\"feedback-sent\", (formData) => {\n            this.notifyCallbacks(\"feedback-sent\", formData);\n        });\n        Gleap.on(\"flow-started\", (flow) => {\n            this.notifyCallbacks(\"flow-started\", flow);\n        });\n        Gleap.on(\"error-while-sending\", () => {\n            this.notifyCallbacks(\"error-while-sending\", {});\n        });\n        Gleap.registerCustomAction((customAction) => {\n            this.notifyCallbacks(\"custom-action-called\", customAction);\n        });\n        Gleap.on(\"unregister-pushmessage-group\", (groupName) => {\n            this.notifyCallbacks(\"unregister-pushmessage-group\", groupName);\n        });\n        Gleap.on(\"register-pushmessage-group\", (groupName) => {\n            this.notifyCallbacks(\"register-pushmessage-group\", groupName);\n        });\n    }\n    notifyCallbacks(event, data) {\n        if (!GleapWeb.callbacks) {\n            return;\n        }\n        for (var callbackId in GleapWeb.callbacks) {\n            GleapWeb.callbacks[callbackId](event, data);\n        }\n    }\n    async showFeedbackButton(options) {\n        Gleap.showFeedbackButton(options.show ? true : false);\n        return { feedbackButtonShown: true };\n    }\n    async identify(options) {\n        var userData = {\n            name: options.name,\n            email: options.email,\n            phone: options.phone,\n            value: options.value,\n            customData: options.customData,\n        };\n        if (options.userHash) {\n            Gleap.identify(options.userId, userData, options.userHash);\n        }\n        else {\n            Gleap.identify(options.userId, userData);\n        }\n        return { identify: true };\n    }\n    async clearIdentity() {\n        Gleap.clearIdentity();\n        return { clearIdentity: true };\n    }\n    async getIdentity() {\n        return { identity: Gleap.getIdentity() };\n    }\n    async isUserIdentified() {\n        return { isUserIdentified: Gleap.isUserIdentified() };\n    }\n    async attachCustomData(options) {\n        Gleap.attachCustomData(options.data);\n        return { attachedCustomData: true };\n    }\n    async setCustomData(options) {\n        Gleap.setCustomData(options.key, options.value);\n        return { setCustomData: true };\n    }\n    async removeCustomData(options) {\n        Gleap.removeCustomData(options.key);\n        return { removedCustomData: true };\n    }\n    async clearCustomData() {\n        Gleap.clearCustomData();\n        return { clearedCustomData: true };\n    }\n    async trackEvent(options) {\n        Gleap.trackEvent(options.name, options.data);\n        return { loggedEvent: true };\n    }\n    async trackPage(options) {\n        Gleap.trackEvent('pageView', {\n            page: options.pageName\n        });\n        return { trackedPage: true };\n    }\n    async startFeedbackFlow(options) {\n        var _a;\n        if (!options.feedbackFlow) {\n        }\n        Gleap.startFeedbackFlow((_a = options.feedbackFlow) !== null && _a !== void 0 ? _a : \"bugreporting\", options.showBackButton);\n        return { startedFeedbackFlow: true };\n    }\n    async setLanguage(options) {\n        Gleap.setLanguage(options.languageCode);\n        return { setLanguage: options.languageCode };\n    }\n    async log(options) {\n        Gleap.log(options.message, options.logLevel);\n        return { logged: true };\n    }\n    async setEventCallback(callback) {\n        var callbackId = this.makeid(10);\n        GleapWeb.callbacks[callbackId] = callback;\n        return callbackId;\n    }\n    async sendSilentCrashReport(options) {\n        Gleap.sendSilentCrashReport(options.description, options.severity, options.dataExclusion);\n        return { sentSilentBugReport: true };\n    }\n    async open() {\n        Gleap.open();\n        return { openedWidget: true };\n    }\n    async openFeatureRequests(options) {\n        Gleap.openFeatureRequests(options.showBackButton);\n        return { openedFeatureRequests: true };\n    }\n    async openNews(options) {\n        Gleap.openNews(options.showBackButton);\n        return { openedNews: true };\n    }\n    async openNewsArticle(options) {\n        Gleap.openNewsArticle(options.articleId, options.showBackButton);\n        return { opened: true };\n    }\n    async openHelpCenter(options) {\n        Gleap.openHelpCenter(options.showBackButton);\n        return { opened: true };\n    }\n    async openHelpCenterArticle(options) {\n        Gleap.openHelpCenterArticle(options.articleId, options.showBackButton);\n        return { opened: true };\n    }\n    async openHelpCenterCollection(options) {\n        Gleap.openHelpCenterCollection(options.collectionId, options.showBackButton);\n        return { opened: true };\n    }\n    async searchHelpCenter(options) {\n        Gleap.searchHelpCenter(options.term, options.showBackButton);\n        return { opened: true };\n    }\n    async close() {\n        Gleap.close();\n        return { closedWidget: true };\n    }\n    async isOpened() {\n        return { isOpened: Gleap.isOpened() };\n    }\n    async disableConsoleLogOverwrite() {\n        Gleap.disableConsoleLogOverwrite();\n        return { consoleLogDisabled: true };\n    }\n    async enableDebugConsoleLog() {\n        return { debugConsoleLogEnabled: true };\n    }\n    async preFillForm(options) {\n        Gleap.preFillForm(options.data);\n        return { preFilledForm: true };\n    }\n    async addAttachment(_options) {\n        throw this.unavailable('addAttachment not available for browsers');\n    }\n    async removeAllAttachments() {\n        throw this.unavailable('removeAllAttachments not available for browsers');\n    }\n    makeid(length) {\n        var result = '';\n        var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var charactersLength = characters.length;\n        for (var i = 0; i < length; i++) {\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\n        }\n        return result;\n    }\n}\nGleapWeb.callbacks = {};\nGleapWeb.initialized = false;\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin","Gleap"],"mappings":"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"}